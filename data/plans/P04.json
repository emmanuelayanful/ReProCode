{
  "paper_id": "P04",
  "repo_name": "swe-bench/swe-bench",
  "env": {
    "type": "conda",
    "setup_commands": [
      "micromamba create -n swe-bench python=3.8 -y",
      "micromamba activate swe-bench",
      "micromamba install -c conda-forge -c pytorch -c huggingface -c fastai -c pytorch-lts -c defaults -y pytorch torchvision torchaudio pytorch-cuda=11.7 fastai dvc gitpython pygit2 gitlfs huggingface_hub"
    ]
  },
  "steps": [
    {
      "id": "install_dependencies",
      "description": "Install the required dependencies",
      "working_dir": ".",
      "commands": [
        "micromamba install -c conda-forge -c pytorch -c huggingface -c fastai -c pytorch-lts -c defaults -y pytorch torchvision torchaudio pytorch-cuda=11.7 fastai dvc gitpython pygit2 gitlfs huggingface_hub"
      ],
      "expected_artifacts": [
        "activated conda environment 'swe-bench'",
        "installed packages"
      ]
    },
    {
      "id": "clone_repo",
      "description": "Clone the repository",
      "working_dir": ".",
      "commands": [
        "git clone git@github.com:princeton-nlp/SWE-bench.git"
      ],
      "expected_artifacts": [
        "cloned repository 'swe-bench/swe-bench'"
      ]
    },
    {
      "id": "install_repo",
      "description": "Install the repository",
      "working_dir": "SWE-bench",
      "commands": [
        "pip install -e ."
      ],
      "expected_artifacts": [
        "installed package 'swe-bench'"
      ]
    },
    {
      "id": "run_main_experiment",
      "description": "Run the main experiment",
      "working_dir": "SWE-bench",
      "commands": [
        "python -m swebench.harness.run_evaluation --predictions_path gold --max_workers 1 --instance_ids sympy__sympy-20590 --run_id validate-gold"
      ],
      "expected_artifacts": [
        "evaluation results"
      ]
    }
  ]
}