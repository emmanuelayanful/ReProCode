{
  "paper_id": "P06",
  "repo_name": "salesforce/CodeT5",
  "env": {
    "type": "conda",
    "setup_commands": [
      "conda create -n codet5 python=3.8 -y",
      "conda activate codet5",
      "conda install pytorch torchvision torchaudio cudatoolkit=11.3 -c pytorch -y"
    ]
  },
  "steps": [
    {
      "id": "install_dependencies",
      "description": "Installing dependencies",
      "working_dir": ".",
      "commands": [
        "pip install transformers==4.12.5",
        "pip install deepspeed==0.6.3",
        "pip install humaneval==0.1.0",
        "pip install git+https://github.com/salesforce/CodeBLEU.git"
      ],
      "expected_artifacts": [
        "transformers",
        "deepspeed",
        "humaneval",
        "CodeBLEU"
      ]
    },
    {
      "id": "download_data",
      "description": "Downloading data",
      "working_dir": "CodeT5",
      "commands": [
        "wget https://s3.amazonaws.com/code-datasets/codet5-vocab.json",
        "wget https://s3.amazonaws.com/code-datasets/codet5-merges.txt"
      ],
      "expected_artifacts": [
        "codet5-vocab.json",
        "codet5-merges.txt"
      ]
    },
    {
      "id": "run_main_experiment",
      "description": "Running main experiment",
      "working_dir": "CodeT5",
      "commands": [
        "python run_gen.py --model_name_or_path=Salesforce/codet5-base-multi-sum --do_train --do_eval --train_file=train.json --validation_file=valid.json --per_device_train_batch_size=4 --per_device_eval_batch_size=4 --num_train_epochs=1 --output_dir=output_dir"
      ],
      "expected_artifacts": [
        "output_dir"
      ]
    }
  ]
}